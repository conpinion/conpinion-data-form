<!-- build:process -->
<!--
<%= copyright %>
Element: <%= pkg.name %>
Version: <%= pkg.version %>
Description: <%= pkg.description %>
-->
<!-- /build -->

<link rel="import" href="../lib/paper-input/paper-textarea.html">
<link rel="import" href="../lib/conpinion-tooltip-icon/conpinion-tooltip-icon.html">
<link rel="import" href="conpinion-data-form-field.html">
<link rel="import" href="conpinion-data-form-field-styles.html">

<dom-module id="conpinion-data-multiline-string-field">

  <template>

    <style include="conpinion-data-form-field-styles"></style>

    <div field>

      <paper-textarea class="flex"
                      label="[[_fieldLabel(name, label, model)]]"
                      value="[[_itemAttribute(item, name)]]"
                      on-input="_updateStringAttribute"
                      rows$="[[rows]]" max-rows$="[[maxRows]]"
                      error-message="[[error]]"
                      invalid="[[_hasError(error)]]"></paper-textarea>

      <template is="dom-if" if="[[description]]">
        <conpinion-tooltip-icon description="[[description]]"></conpinion-tooltip-icon>
      </template>

    </div>
  </template>

  <script>
    Polymer({
      is: 'conpinion-data-multiline-string-field',
      behaviors: [conpinionDataFieldBehavior],
      properties: {
        rows: {type: Number, value: 1},
        maxRows: {type: Number, value: 0}
      },

      _updateStringAttribute: function(e) {
        this.set('item.' + this.name, e.target.value);
      }
    });
  </script>

</dom-module>
